<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Using schemas with the REST producer API - FHIR Server Docs</title>
<meta name="description" content="You can use schemas with the Event Streams REST producer API.">

<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="FHIR Server Docs">
<meta property="og:url" content="http://localhost:4000/fhir-server-docs/10.1/schemas/using-with-rest-producer/" />
<meta property="og:title" content="Documentation | Using schemas with the REST producer API" />
<meta property="og:description" content="You can use schemas with the Event Streams REST producer API." />

<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="IBM Event Streams | Using schemas with the REST producer API" />




  <meta property="og:description" content="You can use schemas with the Event Streams REST producer API.">



  <meta property="og:image" content="http://localhost:4000/fhir-server-docs/assets/siteMeta/appIcon_og_fb.png">
  <meta name="twitter:image" content="http://localhost:4000/fhir-server-docs/assets/siteMeta/appIcon_og_square.png">



  <meta property="article:published_time" content="2021-02-24T14:26:07+00:00">






<link rel="canonical" href="http://localhost:4000/fhir-server-docs/10.1/schemas/using-with-rest-producer/">





  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://localhost:4000/fhir-server-docs",
      "logo": "http://localhost:4000/fhir-server-docs/assets/siteMeta/appIcon_og_fb.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "IBM",
      "url": "http://localhost:4000/fhir-server-docs",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/fhir-server-docs/feed.xml" type="application/atom+xml" rel="alternate" title="FHIR Server Docs Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/fhir-server-docs/assets/css/main.css">



<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<link rel="shortcut icon" type="image/png" href="http://localhost:4000/fhir-server-docs/assets/siteMeta/favicon.ico"/>
<link rel="shortcut icon" type="image/png" href="http://localhost:4000/fhir-server-docs/assets/siteMeta/favicon-16x16.png"/>
<link rel="shortcut icon" type="image/png" href="http://localhost:4000/fhir-server-docs/assets/siteMeta/favicon-32x32.png"/>
<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/fhir-server-docs/assets/siteMeta/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:4000/fhir-server-docs/assets/siteMeta/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:4000/fhir-server-docs/assets/siteMeta/favicon-16x16.png">
<link rel="manifest" href="http://localhost:4000/fhir-server-docs/assets/siteMeta/site.webmanifest">
<link rel="mask-icon" href="http://localhost:4000/fhir-server-docs/assets/siteMeta/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#000000">
<meta name="theme-color" content="#000000">

<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,600%7CIBM+Plex+Serif:300,400,500%7CIBM+Plex+Mono:300,400,500,700" rel="stylesheet">

<!-- end custom head snippets -->

    <link rel="shortcut icon" type="image/x-icon" href="/fhir-server-docs/assets/favicon.ico" >
    
    <base target="_parent">

  </head>
  <script src="/fhir-server-docs/assets/animation/lottie.js" type="text/javascript"></script>
  <script src="/fhir-server-docs/assets/js/connectors.js"></script>


  
  <body onload="urlChecker()" class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    




 <div id="masthead" class="masthead">
  <div class="masthead__goToIBMCloud">
 <!-- <div>
    You are viewing the documentation for the container-native version of IBM FHIR Server.
  </div> -->
    <a class="link" target="_self" href="https://ibm.github.io/FHIR/">Looking for the managed service on IBM Cloud? Click here.</a>
</div> 
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="mastheadNav">

      


        <div class="mastheadTitle">
          
          <a class="site-title" href="/fhir-server-docs/" target="_self"><span>IBM</span>&nbsp;FHIR Server</a>
          <div class="viewOnIBMcom">
            <a href="https://ibm.github.io/FHIR/" target="_blank">View product page</a>
          </div>
        </div>









        <div class="mastheadControls">
            <div class="menuScrollContainer">

        

                <ul id="visible-links" class="visible-links">
                  
                  
                  

                  




                  
                    <li class="masthead__menu-item active" onclick="window.open('http://localhost:4000/fhir-server-docs/','_self')">
                      <a href="http://localhost:4000/fhir-server-docs/" >Documentation</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/fhir-server-docs/tutorials/','_self')">
                      <a href="http://localhost:4000/fhir-server-docs/tutorials/" >Tutorials</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/fhir-server-docs/faq/','_self')">
                      <a href="http://localhost:4000/fhir-server-docs/faq/" >FAQ</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/fhir-server-docs/support/','_self')">
                      <a href="http://localhost:4000/fhir-server-docs/support/" >Support</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('http://localhost:4000/fhir-server-docs/search/','_self')">
                      <button aria-label="Search Button" role="button" id="searchButton" class="search__toggle " type="button" name="search Button">
                        <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                          <path
                            d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z"
                            transform="translate(-.01)"></path>
                        </svg>
                      </button>
                    </li>
                  

                  
                </ul>
        

      </div>
    </div>
      </nav>
    </div>
  </div>
</div>


    <div id="initial-content" class="initial-content" role="main">





<main id="main" class="mainContainer" role="main">
    
      <div id="subMenu" class="subMenu">
        <div tabindex="0" class="menuIcon" id="menuIcon">
          <svg id="mobileMenu" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">
            <g id="bottomLine">
              <line class="burgerLine" x1="14" y1="29" x2="34" y2="29" />
            </g>
            <g id="middleLine">
              <line class="burgerLine" x1="14" y1="24" x2="34" y2="24" />
            </g>
            <g id="topLine">
              <line class="burgerLine" x1="14" y1="19" x2="34" y2="19" />
            </g>
          </svg>
        </div>
        <div id="mobileVersionShortcut" class="versionContainer" tabindex="0">
          <a id="mobileVersionPillCurrent" class="versionPill">10.1</a>
        </div>
      </div>
    
  


  <div id="sidebarMask" class="sidebarMask">

  </div>
  <div id="sidebar" class="sidebar sticky">
      <div aria-label="Change Version" role="button" aria-expanded="false"
      
        id="versionDropdown"
        tabindex="0"
        class="versionsBar"
       >
          <div class="selectedVersion" id="selectedVersion">
            <div class="versionContainer" >
              
                <a id="versionPillCurrent" class="versionPill">10.1</a>
                <a class="versionChange">Change Version</a>
              
            </div>
          </div>
          


          <div class="allVersions" id="allVersions">
            <ul>

                

                        


                    

                    <!--  -->

                    

                    


                    <li class="version" data-url="http://localhost:4000/fhir-server-docs/schemas/using-with-rest-producer/" onclick="openVersion('http://localhost:4000/fhir-server-docs/schemas/using-with-rest-producer/','10.2')">

                        <div class="pillContainer">
                          
                          <a tabindex="-1" href="http://localhost:4000/fhir-server-docs/schemas/using-with-rest-producer/" class="versionPill inactive">10.2</a>
                        </div>
                        <div class="activeContainer">
                            
                        </div>
                        <div class="latest">
                            Latest
                        </div>
                      </li>

                

                        


                    

                    <!--  -->

                    

                    


                    <li class="version" data-url="http://localhost:4000/fhir-server-docs/10.1/schemas/using-with-rest-producer/" onclick="openVersion('http://localhost:4000/fhir-server-docs/10.1/schemas/using-with-rest-producer/','10.1')">

                        <div class="pillContainer">
                          
                          <a tabindex="-1" href="http://localhost:4000/fhir-server-docs/10.1/schemas/using-with-rest-producer/" class="versionPill active">10.1</a>
                        </div>
                        <div class="activeContainer">
                            
                            <img alt="" src="http://localhost:4000/fhir-server-docs/images/checkbox.svg" />
                            
                        </div>
                        <div class="latest">
                            
                        </div>
                      </li>

                

                        


                    

                    <!--  -->

                    

                    


                    <li class="version" data-url="http://localhost:4000/fhir-server-docs/10.0/schemas/using-with-rest-producer/" onclick="openVersion('http://localhost:4000/fhir-server-docs/10.0/schemas/using-with-rest-producer/','10.0')">

                        <div class="pillContainer">
                          
                          <a tabindex="-1" href="http://localhost:4000/fhir-server-docs/10.0/schemas/using-with-rest-producer/" class="versionPill inactive">10.0</a>
                        </div>
                        <div class="activeContainer">
                            
                        </div>
                        <div class="latest">
                            
                        </div>
                      </li>

                

                        


                    

                    <!--  -->

                    

                    


                    <li class="version" data-url="http://localhost:4000/fhir-server-docs/2019.4/schemas/using-with-rest-producer/" onclick="openVersion('http://localhost:4000/fhir-server-docs/2019.4/schemas/using-with-rest-producer/','2019.4')">

                        <div class="pillContainer">
                          
                          <a tabindex="-1" href="http://localhost:4000/fhir-server-docs/2019.4/schemas/using-with-rest-producer/" class="versionPill inactive">2019.4</a>
                        </div>
                        <div class="activeContainer">
                            
                        </div>
                        <div class="latest">
                            
                        </div>
                      </li>

                

                        


                    

                    <!--  -->

                    

                    


                    <li class="version" data-url="http://localhost:4000/fhir-server-docs/2019.2.1/schemas/using-with-rest-producer/" onclick="openVersion('http://localhost:4000/fhir-server-docs/2019.2.1/schemas/using-with-rest-producer/','2019.2.1')">

                        <div class="pillContainer">
                          
                          <a tabindex="-1" href="http://localhost:4000/fhir-server-docs/2019.2.1/schemas/using-with-rest-producer/" class="versionPill inactive">2019.2.1</a>
                        </div>
                        <div class="activeContainer">
                            
                        </div>
                        <div class="latest">
                            
                        </div>
                      </li>

                

                        


                    

                    <!--  -->

                    

                    


                    <li class="version" data-url="http://localhost:4000/fhir-server-docs/2019.1.1/schemas/using-with-rest-producer/" onclick="openVersion('http://localhost:4000/fhir-server-docs/2019.1.1/schemas/using-with-rest-producer/','2019.1.1')">

                        <div class="pillContainer">
                          
                          <a tabindex="-1" href="http://localhost:4000/fhir-server-docs/2019.1.1/schemas/using-with-rest-producer/" class="versionPill inactive">2019.1.1</a>
                        </div>
                        <div class="activeContainer">
                            
                        </div>
                        <div class="latest">
                            
                        </div>
                      </li>

                

                        


                    

                    <!--  -->

                    

                    


                    <li class="version" data-url="http://localhost:4000/fhir-server-docs/2018.3.1/schemas/using-with-rest-producer/" onclick="openVersion('http://localhost:4000/fhir-server-docs/2018.3.1/schemas/using-with-rest-producer/','2018.3.1')">

                        <div class="pillContainer">
                          
                          <a tabindex="-1" href="http://localhost:4000/fhir-server-docs/2018.3.1/schemas/using-with-rest-producer/" class="versionPill inactive">2018.3.1</a>
                        </div>
                        <div class="activeContainer">
                            
                        </div>
                        <div class="latest">
                            
                        </div>
                      </li>

                

            </ul>
          </div>
        </div>

  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <ul class="nav__items">

    
      <li>
        
          <span class="nav__sub-title">About</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/about/overview/" class="">Introduction</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/about/whats-new/" class="">What's new</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/about/key-concepts/" class="">Key concepts</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/about/producing-messages/" class="">Producing messages</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/about/consuming-messages/" class="">Consuming messages</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/about/partition-leadership/" class="">Partition leadership</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/about/accessibility/" class="">Accessibility</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/about/notices/" class="">Notices</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Installing and upgrading</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/installing/trying-out/" class="">Trying out Event Streams</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/installing/prerequisites/" class="">Prerequisites</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/installing/planning/" class="">Planning your installation</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/installing/capacity-planning/" class="">Performance and capacity planning</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/installing/preparing-multizone/" class="">Preparing for multizone clusters</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/installing/installing/" class="">Installing</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/installing/configuring/" class="">Configuring</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/installing/post-installation/" class="">Post-installation tasks</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/installing/moving-from-oss-kafka/" class="">Migrating from open-source Kafka</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/installing/uninstalling/" class="">Uninstalling</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/installing/upgrading/" class="">Upgrading and migrating</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Getting started</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/getting-started/logging-in/" class="">Logging in</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/getting-started/creating-topics/" class="">Creating a Kafka topic</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/getting-started/generating-starter-app/" class="">Running a starter application</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/getting-started/testing-loads/" class="">Creating and testing message loads</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/getting-started/client/" class="">Creating Kafka client applications</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/getting-started/connecting/" class="">Connecting clients</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/getting-started/using-kafka-console-tools/" class="">Using Apache Kafka console tools</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Schemas</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/schemas/overview/" class="">Schemas overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/schemas/creating/" class="">Creating and adding schemas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/schemas/manage-lifecycle/" class="">Managing schema lifecycle</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/schemas/setting-java-apps/" class="">Setting Java applications to use schemas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/schemas/setting-nonjava-apps/" class="">Setting non-Java applications to use schemas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/schemas/migrating/" class="">Migrating to Event Streams schema registry</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/schemas/using-with-rest-producer/" class="active">Using schemas with the REST producer API</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/schemas/schema-api/" class="">Using the schema API</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Security</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/security/managing-access/" class="">Managing access</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/security/encrypting-data/" class="">Encrypting your data</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/security/secure-jmx-connections/" class="">Configuring secure JMX connections</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/security/network-policies/" class="">Network policies</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/security/gdpr-considerations/" class="">Considerations for GDPR</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Geo-replication</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/georeplication/about/" class="">About geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/georeplication/planning/" class="">Planning for geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/georeplication/setting-up/" class="">Setting up geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/georeplication/health/" class="">Monitoring and managing geo-replication</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/georeplication/failover/" class="">Switching clusters</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Connecting external systems</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/connecting/rest-api/" class="">Event Streams producer API</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/connecting/connectors/" class="">Kafka Connect and connectors</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/connecting/setting-up-connectors/" class="">Setting up and running connectors</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/connecting/mq/" class="">Connecting to IBM MQ</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/connecting/mq/source/" class="">Running the MQ source connector</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/connecting/mq/sink/" class="">Running the MQ sink connector</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/connecting/mq/zos/" class="">Running connectors on IBM z/OS</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Administering</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/administering/deployment-health/" class="">Monitoring deployment health</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/administering/cluster-health/" class="">Monitoring Kafka cluster health</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/administering/topic-health/" class="">Monitoring topic health</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/administering/consumer-lag/" class="">Monitoring consumer group lag</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/administering/tracing/" class="">Monitoring applications with distributed tracing</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/administering/external-monitoring/" class="">Monitoring with external tools</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/administering/modifying-installation/" class="">Modifying installation settings</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/administering/scaling/" class="">Scaling</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/administering/quotas/" class="">Setting client quotas</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/administering/managing-multizone/" class="">Managing a multizone setup</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/administering/stopping-starting/" class="">Stopping and starting Event Streams</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Troubleshooting</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/intro/" class="">Troubleshooting overview</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/gathering-logs/" class="">Gathering logs</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/resources-not-available/" class="">Resources not available</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/georeplication-error/" class="">Error when creating multiple geo-replicators</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/kafka-producer-error/" class="">TimeoutException when using standard Kafka producer</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/kafka-consumer-hangs/" class="">Standard Kafka consumer hangs</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/cloudctl-es-not-registered/" class="">Command 'cloudctl es' fails with 'not a registered command' error</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/cloudctl-es-fails/" class="">Command 'cloudctl es' produces 'FAILED' message</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/chrome-ubuntu-issue/" class="">UI does not open when using Chrome on Ubuntu</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/error-removing-destination/" class="">Unable to remove destination cluster</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/ui-403-error/" class="">403 error when signing in</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/problem-with-piping/" class="">The UI cannot load data</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/firefox-black-images/" class="">UI shows black images in Firefox</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/default-scc-issues/" class="">Event Streams not installing due to Security Context Constraint (SCC) issues</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/schema-registry-not-authorized-error/" class="">Not authorized error when building maven schema registry project</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/authorization-failed-exceptions/" class="">Client receives AuthorizationException when communicating with brokers</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/required-value-error/" class="">Required value error when installing on OpenShift 4.5.0-4.5.5</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/operator-keeps-reconciling/" class="">Operator is generating constant log output</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/fhir-server-docs/10.1/troubleshooting/operator-upgrade-issue/" class="">Operator upgrade causes Kafka pod errors</a>
            </li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <div class="mainContent">
    
    <div id="pageContainer" class="page" itemscope itemtype="http://schema.org/CreativeWork">
      <div class="page__inner-wrap  latestVersion">
        
        <section class="page__content pageSpacing" itemprop="text">
          
          <header>
            <h1 id="page-title" class="page__title" itemprop="headline">
              Using schemas with the REST producer API
</h1>
            
          </header>
          
          <div class="content">
            <p>You can use schemas when producing messages with the Event Streams <a href="../../connecting/rest-api/">REST producer API</a>. You simply add the following parameters to the API call:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">schemaname</code>: The name of the schema you want to use when producing messages.</li>
  <li><code class="language-plaintext highlighter-rouge">schemaversion</code>: The schema version you want to use when producing messages.</li>
</ul>

<p>For example, to use cURL to produce messages to a topic with the producer API, and specify the schema to be used, run the curl command as follows:</p>

<p>Using SCRAM Basic Authentication:</p>

<p><code class="language-plaintext highlighter-rouge">curl -H "Authorization: &lt;basic-auth&gt;" -H "Accept: application/json" -H "Content-Type: text/plain" -d '&lt;avro-encoded-message&gt;' --cacert es-cert.pem "https://&lt;producer-endpoint&gt;/topics/&lt;my-topic&gt;/records?schemaname=&lt;schema-name&gt;&amp;schemaversion=&lt;schema-version-name&gt;"</code></p>

<p>Using TLS Mutual Authentication:</p>

<p><code class="language-plaintext highlighter-rouge">curl -H "Accept: application/json" -H "Content-Type: text/plain" -d '&lt;avro-encoded-message&gt;' --cacert es-cert.pem --key user.key --cert user.crt "https://&lt;producer-endpoint&gt;/topics/&lt;my-topic&gt;/records?schemaname=&lt;schema-name&gt;&amp;schemaversion=&lt;schema-version-name&gt;"</code></p>

<p><strong>Note:</strong> Replace the values in brackets as follows:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;basic-auth&gt;</code> with the <strong>SCRAM Basic Authentication token</strong> which is generated using the Event Streams <a href="../../security/managing-access#creating-a-kafkauser-in-the-ibm-event-streams-ui">UI</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;producer-endpoint&gt;</code> with the producer URL which is available from <strong>Connect to this cluster</strong> or <strong>Connect to this topic</strong> and copy the URL in the <strong>Producer endpoint and credentials</strong> section.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;my_topic&gt;</code> with your topic name.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;schema-name&gt;</code> with the name of your schema that is stored in Apicurio Registry in Event Streams.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;schema-version-name&gt;</code> with the version of your schema that is stored in Apicurio Registry in Event Streams.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;avro-encoded-message&gt;</code> with your avro encoded message.</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">es-cert.pem</code> certificate is downloaded by running the following command:<br />
<code class="language-plaintext highlighter-rouge">cloudctl es certificates --format pem</code></p>

<p>The <code class="language-plaintext highlighter-rouge">user.key</code> and <code class="language-plaintext highlighter-rouge">user.crt</code> files are downloaded in a .zip file by clicking <strong>Generate credentials</strong> in the <strong>Producer endpoint and credentials</strong> section of <strong>Connect to this cluster</strong> or <strong>Connect to this topic</strong>, selecting <strong>Mutual TLS certificate</strong>, following the instructions in the wizard and clicking <strong>Download certificates</strong>.</p>

<p>By adding these parameters to the API call, a lookup is done on the specified schema and its version to check if it is valid. If valid, the correct message headers are set for the produced message.</p>

<p><strong>Important:</strong> When using the producer API, the lookup does not validate the data in the request to see if it matches the schema. Ensure the message conforms to the schema, and that it has been encoded in the Apache Avro binary or JSON encoding format. If the message does not conform and is not encoded with either of those formats, consumers will not be able to deserialize the data.</p>

<p>If the message has been encoded in the Apache Avro binary format, ensure the HTTP <code class="language-plaintext highlighter-rouge">Content-Type</code> header is set to <code class="language-plaintext highlighter-rouge">application/octet-stream</code>.</p>

<p>If the message has been encoded in the Apache Avro JSON format, ensure the HTTP <code class="language-plaintext highlighter-rouge">Content-Type</code> header is set to <code class="language-plaintext highlighter-rouge">application/json</code>.</p>

          </div>


          
        </section>

        <aside class="sidebar__right ">
          
        </aside>


      </div>
      <div class="pageEnd">
        
          
  <nav class="pagination">
    
      <div class="previous" onclick="window.open('/fhir-server-docs/10.1/schemas/migrating/','_self')">
        <div class="container">
          <a href="/fhir-server-docs/10.1/schemas/migrating/" class="pagination--pager" title="Previous Item: Migrating existing applications to the Event Streams schema registry
">Previous</a>
          <h2 class="titlePreview">Migrating existing applications to the Event Streams schema registry
</h2>
        </div>
      </div>
    
    
      <div class="next" onclick="window.open('/fhir-server-docs/10.1/schemas/schema-api/','_self')">
        <div class="container">
          <a href="/fhir-server-docs/10.1/schemas/schema-api/" class="pagination--pager" title="Next Item: Using the schema API
">Next</a>
          <h2 class="titlePreview">Using the schema API
</h2>
        </div>
      </div>
      
  </nav>

        
      </div>
    </div>


  </div> <!-- Main content -->

</main></div>


    
      <div class="page__footer">
          <footer>
            <!-- start custom footer snippets -->

<!-- end custom footer snippets -->

            
<div class="page__footer-copyright"><a href="https://www.ibm.com/privacy/us/en/" rel="nofollow" target="_blank">Privacy Policy</a>  &nbsp;© Copyright IBM Corporation 2020</br>
  Released under the <a href="https://www.apache.org/licenses/LICENSE-2.0" rel="nofollow" target="_blank">Apache License v2.0</a></div>

          </footer>
      </div>      
    


    
  <script src="/fhir-server-docs/assets/js/main.min.js"></script>
  <!-- <script src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script> -->






<script src="/fhir-server-docs/assets/js/design.js"></script>





<script src="/fhir-server-docs/assets/js/lunr/lunr.min.js"></script>
<script src="/fhir-server-docs/assets/js/lunr/lunr-store.js"></script>
<script src="/fhir-server-docs/assets/js/lunr/lunr-en.js"></script>





    

    
  </body>
</html>
